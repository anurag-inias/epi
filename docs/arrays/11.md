# Sample offline data

## Description

Implement an algorithm that takes as input an array $A$ and a number $k$, and returns a subset of $A$ that contains exactly $k$ elements. All subsets should be equally likely.

## Stub

```kotlin
fun randomSampling(k: Int, A: MutableList<Int>) {
  // TODO - you fill in here.
  // Simply put the random subset at the front of the list.
}
```

## Solution

??? "Expand"

     Perform a partial [Fisher-Yates Shuffle](/algorithms/misc/fisher-yates-shuffle) for the subset $[0, k)$.

     We swap the element at the current index `i` with a randomly selected element from the remaining un-shuffled portion of the list (indices `i` to `size-1`).

      ```kotlin
      fun randomSampling(k: Int, A: MutableList<Int>) {
        val rand = ThreadLocalRandom.current()

        for (i in 0 until k) {
          // swap index i with a random index in [i, n)
          val j = rand.nextInt(i, A.size)
          A.swap(i, j)
        }
      }
      ```