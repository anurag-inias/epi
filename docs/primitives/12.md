# Rectangle intersection

## Description

Given two rectangles, find their intersection.

## Stub

=== "Placeholder"

    ```java
    public static Rect intersectRectangle(Rect f, Rect s) {
      // Fill me.
    }
    ```

=== "Rectangle"

    ```java
    public static class Rect {
      int x, y, width, height;

      public Rect(int x, int y, int width, int height) {
        this.x = x;
        this.y = y;
        this.width = width;
        this.height = height;
      }

      @Override
      public boolean equals(Object o) {
        if (this == o) {
          return true;
        }
        if (o == null || getClass() != o.getClass()) {
          return false;
        }

        Rect rectangle = (Rect) o;

        if (x != rectangle.x) {
          return false;
        }
        if (y != rectangle.y) {
          return false;
        }
        if (width != rectangle.width) {
          return false;
        }
        return height == rectangle.height;
      }

      @Override
      public int hashCode() {
        int result = x;
        result = 31 * result + y;
        result = 31 * result + width;
        result = 31 * result + height;
        return result;
      }

      @Override
      public String toString() {
        return "[" + x + ", " + y + ", " + width + ", " + height + "]";
      }
    }
    ```

## Solution

??? "Expand"

    ![](12.svg)

    ```java
    public static Rect intersectRectangle(Rect f, Rect s) {
      // top left of first rect
      int fx = f.x; 
      int fy = f.y;
      // bottom right of first rect
      int fx_ = fx + f.width;
      int fy_ = fy + f.height;

      // top left of second rect
      int sy = s.y;
      int sx = s.x;
      // bottom right of second rect
      int sx_ = sx + s.width;
      int sy_ = sy + s.height;

      // top left of intersection
      int ix = Math.max(fx, sx);
      int iy = Math.max(fy, sy);
      // bottom right of intersection
      int ix_ = Math.min(fx_, sx_);
      int iy_ = Math.min(fy_, sy_);

      // width and height of intersection
      int w = ix_ - ix;
      int h = iy_ - iy;

      if (w < 0 || h < 0) return new Rect(0, 0, -1, -1);
      return new Rect(ix, iy, w, h);
    }
    ```

    1. $\lceil \log_2{(\text{range})} \rceil$
    2. $\log_c{m} = \dfrac{\log_b{m}}{\log_b{c}}$

