# Compute $x \times y$ without arithmetical operators

## Description

Multiply two non-negative integers using only bitwise operators.

## Stub

```java
public static int multiply(int x, int y) {
  // Fill me.
}
```

## Solution

??? "First approach"

    Repeated additions.

??? "Second approach"

    Adapt the high-school multiplication algorithm.

    ```kotlin
    fun multiply(x: Int, y: Int): Int {
      var prod = 0
      var a = x
      var b = y

      while (b != 0) {
        if ((b and 1) != 0) {
          prod = add(prod, a)
        }
        a = a shl 1  // a << 1
        b = b ushr 1 // b >>> 1 (fill with zeros)
      }
      return prod
    }
    ```

## Unit tests

```kotlin
@Test
fun first() {
  assertThat(multiply(1, 2)).isEqualTo(2)
}

@Test
fun second() {
  assertThat(multiply(19, 5)).isEqualTo(95)
}

@Test
fun third() {
  assertThat(multiply(-15, -19)).isEqualTo(285)
}

@Test
fun fourth() {
  assertThat(multiply(Int.MAX_VALUE, 2)).isEqualTo(Int.MAX_VALUE * 2)
}

@Test
fun fifth() {
  assertThat(multiply(Int.MIN_VALUE, -5)).isEqualTo(Int.MIN_VALUE * -5)
}

@Test
fun rand() {
  val rand = ThreadLocalRandom.current()

  for (i in 1 until 1000) {
    val a = rand.nextInt()
    val b = rand.nextInt()
    println("multiplying $a and $b for ${a * b}")
    assertThat(multiply(a, b)).isEqualTo(a * b)
  }
}
```
